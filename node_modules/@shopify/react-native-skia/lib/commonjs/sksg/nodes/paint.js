"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.declarePaint = void 0;
var _nodes = require("../../dom/nodes");
var _types = require("../../skia/types");
const declarePaint = (ctx, props) => {
  "worklet";

  const {
    color,
    strokeWidth,
    blendMode,
    style,
    strokeJoin,
    strokeCap,
    strokeMiter,
    opacity,
    antiAlias,
    dither
  } = props;
  const paint = ctx.Skia.Paint();
  if (color !== undefined) {
    paint.setColor(ctx.Skia.Color(color));
  }
  if (strokeWidth !== undefined) {
    paint.setStrokeWidth(strokeWidth);
  }
  if (blendMode !== undefined) {
    paint.setBlendMode(_types.BlendMode[(0, _nodes.enumKey)(blendMode)]);
  }
  if (style !== undefined) {
    paint.setStyle(_types.PaintStyle[(0, _nodes.enumKey)(style)]);
  }
  if (strokeJoin !== undefined) {
    paint.setStrokeJoin(_types.StrokeJoin[(0, _nodes.enumKey)(strokeJoin)]);
  }
  if (strokeCap !== undefined) {
    paint.setStrokeCap(_types.StrokeCap[(0, _nodes.enumKey)(strokeCap)]);
  }
  if (strokeMiter !== undefined) {
    paint.setStrokeMiter(strokeMiter);
  }
  if (opacity !== undefined) {
    paint.setAlphaf(opacity);
  }
  if (antiAlias !== undefined) {
    paint.setAntiAlias(antiAlias);
  }
  if (dither !== undefined) {
    paint.setDither(dither);
  }
  //ctx.save();

  const colorFilter = ctx.colorFilters.popAllAsOne();
  const imageFilter = ctx.imageFilters.popAllAsOne();
  const shader = ctx.shaders.pop();
  const maskFilter = ctx.maskFilters.pop();
  const pathEffect = ctx.pathEffects.popAllAsOne();
  //ctx.restore();
  if (imageFilter) {
    paint.setImageFilter(imageFilter);
  }
  if (shader) {
    paint.setShader(shader);
  }
  if (pathEffect) {
    paint.setPathEffect(pathEffect);
  }
  if (colorFilter) {
    paint.setColorFilter(colorFilter);
  }
  if (maskFilter) {
    paint.setMaskFilter(maskFilter);
  }
  ctx.paints.push(paint);
};
exports.declarePaint = declarePaint;
//# sourceMappingURL=paint.js.map