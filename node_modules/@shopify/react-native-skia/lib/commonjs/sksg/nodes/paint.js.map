{"version":3,"names":["_nodes","require","_types","declarePaint","ctx","props","color","strokeWidth","blendMode","style","strokeJoin","strokeCap","strokeMiter","opacity","antiAlias","dither","paint","Skia","Paint","undefined","setColor","Color","setStrokeWidth","setBlendMode","BlendMode","enumKey","setStyle","PaintStyle","setStrokeJoin","StrokeJoin","setStrokeCap","StrokeCap","setStrokeMiter","setAlphaf","setAntiAlias","setDither","colorFilter","colorFilters","popAllAsOne","imageFilter","imageFilters","shader","shaders","pop","maskFilter","maskFilters","pathEffect","pathEffects","setImageFilter","setShader","setPathEffect","setColorFilter","setMaskFilter","paints","push","exports"],"sources":["paint.ts"],"sourcesContent":["import { enumKey } from \"../../dom/nodes\";\nimport type { PaintProps } from \"../../dom/types\";\nimport { BlendMode, PaintStyle, StrokeCap, StrokeJoin } from \"../../skia/types\";\nimport type { DeclarationContext } from \"../DeclarationContext\";\n\nexport const declarePaint = (ctx: DeclarationContext, props: PaintProps) => {\n  \"worklet\";\n  const {\n    color,\n    strokeWidth,\n    blendMode,\n    style,\n    strokeJoin,\n    strokeCap,\n    strokeMiter,\n    opacity,\n    antiAlias,\n    dither,\n  } = props;\n  const paint = ctx.Skia.Paint();\n  if (color !== undefined) {\n    paint.setColor(ctx.Skia.Color(color));\n  }\n  if (strokeWidth !== undefined) {\n    paint.setStrokeWidth(strokeWidth);\n  }\n  if (blendMode !== undefined) {\n    paint.setBlendMode(BlendMode[enumKey(blendMode)]);\n  }\n  if (style !== undefined) {\n    paint.setStyle(PaintStyle[enumKey(style)]);\n  }\n  if (strokeJoin !== undefined) {\n    paint.setStrokeJoin(StrokeJoin[enumKey(strokeJoin)]);\n  }\n  if (strokeCap !== undefined) {\n    paint.setStrokeCap(StrokeCap[enumKey(strokeCap)]);\n  }\n  if (strokeMiter !== undefined) {\n    paint.setStrokeMiter(strokeMiter);\n  }\n  if (opacity !== undefined) {\n    paint.setAlphaf(opacity);\n  }\n  if (antiAlias !== undefined) {\n    paint.setAntiAlias(antiAlias);\n  }\n  if (dither !== undefined) {\n    paint.setDither(dither);\n  }\n  //ctx.save();\n\n  const colorFilter = ctx.colorFilters.popAllAsOne();\n  const imageFilter = ctx.imageFilters.popAllAsOne();\n  const shader = ctx.shaders.pop();\n  const maskFilter = ctx.maskFilters.pop();\n  const pathEffect = ctx.pathEffects.popAllAsOne();\n  //ctx.restore();\n  if (imageFilter) {\n    paint.setImageFilter(imageFilter);\n  }\n  if (shader) {\n    paint.setShader(shader);\n  }\n  if (pathEffect) {\n    paint.setPathEffect(pathEffect);\n  }\n  if (colorFilter) {\n    paint.setColorFilter(colorFilter);\n  }\n  if (maskFilter) {\n    paint.setMaskFilter(maskFilter);\n  }\n  ctx.paints.push(paint);\n};\n"],"mappings":"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","ignoreList":[]}