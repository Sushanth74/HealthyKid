{"version":3,"names":["enumKey","BlendMode","PaintStyle","StrokeCap","StrokeJoin","declarePaint","ctx","props","color","strokeWidth","blendMode","style","strokeJoin","strokeCap","strokeMiter","opacity","antiAlias","dither","paint","Skia","Paint","undefined","setColor","Color","setStrokeWidth","setBlendMode","setStyle","setStrokeJoin","setStrokeCap","setStrokeMiter","setAlphaf","setAntiAlias","setDither","colorFilter","colorFilters","popAllAsOne","imageFilter","imageFilters","shader","shaders","pop","maskFilter","maskFilters","pathEffect","pathEffects","setImageFilter","setShader","setPathEffect","setColorFilter","setMaskFilter","paints","push"],"sources":["paint.ts"],"sourcesContent":["import { enumKey } from \"../../dom/nodes\";\nimport type { PaintProps } from \"../../dom/types\";\nimport { BlendMode, PaintStyle, StrokeCap, StrokeJoin } from \"../../skia/types\";\nimport type { DeclarationContext } from \"../DeclarationContext\";\n\nexport const declarePaint = (ctx: DeclarationContext, props: PaintProps) => {\n  \"worklet\";\n  const {\n    color,\n    strokeWidth,\n    blendMode,\n    style,\n    strokeJoin,\n    strokeCap,\n    strokeMiter,\n    opacity,\n    antiAlias,\n    dither,\n  } = props;\n  const paint = ctx.Skia.Paint();\n  if (color !== undefined) {\n    paint.setColor(ctx.Skia.Color(color));\n  }\n  if (strokeWidth !== undefined) {\n    paint.setStrokeWidth(strokeWidth);\n  }\n  if (blendMode !== undefined) {\n    paint.setBlendMode(BlendMode[enumKey(blendMode)]);\n  }\n  if (style !== undefined) {\n    paint.setStyle(PaintStyle[enumKey(style)]);\n  }\n  if (strokeJoin !== undefined) {\n    paint.setStrokeJoin(StrokeJoin[enumKey(strokeJoin)]);\n  }\n  if (strokeCap !== undefined) {\n    paint.setStrokeCap(StrokeCap[enumKey(strokeCap)]);\n  }\n  if (strokeMiter !== undefined) {\n    paint.setStrokeMiter(strokeMiter);\n  }\n  if (opacity !== undefined) {\n    paint.setAlphaf(opacity);\n  }\n  if (antiAlias !== undefined) {\n    paint.setAntiAlias(antiAlias);\n  }\n  if (dither !== undefined) {\n    paint.setDither(dither);\n  }\n  //ctx.save();\n\n  const colorFilter = ctx.colorFilters.popAllAsOne();\n  const imageFilter = ctx.imageFilters.popAllAsOne();\n  const shader = ctx.shaders.pop();\n  const maskFilter = ctx.maskFilters.pop();\n  const pathEffect = ctx.pathEffects.popAllAsOne();\n  //ctx.restore();\n  if (imageFilter) {\n    paint.setImageFilter(imageFilter);\n  }\n  if (shader) {\n    paint.setShader(shader);\n  }\n  if (pathEffect) {\n    paint.setPathEffect(pathEffect);\n  }\n  if (colorFilter) {\n    paint.setColorFilter(colorFilter);\n  }\n  if (maskFilter) {\n    paint.setMaskFilter(maskFilter);\n  }\n  ctx.paints.push(paint);\n};\n"],"mappings":"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","ignoreList":[]}